{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://knowbrow.org/schemas/plugin-manifest.schema.json",
  "title": "Plugin Manifest",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "id",
    "name",
    "version",
    "contractVersion",
    "entry",
    "capabilities"
  ],
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^[a-z0-9][a-z0-9-]{1,62}$"
    },
    "name": {
      "type": "string",
      "minLength": 2,
      "maxLength": 120
    },
    "version": {
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
    },
    "contractVersion": {
      "type": "string",
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"
    },
    "entry": {
      "type": "object",
      "additionalProperties": false,
      "required": ["route", "component"],
      "properties": {
        "route": {"type": "string"},
        "component": {"type": "string"}
      }
    },
    "capabilities": {
      "type": "object",
      "additionalProperties": false,
      "required": ["requiresAuth", "supportsDemoMode"],
      "properties": {
        "requiresAuth": {"type": "boolean"},
        "supportsDemoMode": {"type": "boolean"},
        "supportsSave": {"type": "boolean"},
        "supportsShare": {"type": "boolean"},
        "supportsWriteBack": {"type": "boolean"}
      }
    }
  }
}
